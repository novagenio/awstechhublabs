<!DOCTYPE html>
<html>
<head>
    <title>Post an Image test</title>
<!--    <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
-->
</head>

<style>
#div{ width:50%; height:80%; margin:0 auto;}
#canvas{border:1px solid #d9d9d9; width: 100%; height: 100%;}
</style>





<body>


<script>
var canvasP = document.createElement("canvas");
 
      var ctxP = canvasP.getContext("2d");
         if (ctxP) {
             // creamos el patrón.
            ctxP.canvas.width = 20;
            ctxP.canvas.height = 20;   
            ctxP.rect(0, 0, 10, 10);
            ctxP.rect(10, 10, 20, 20);
            ctxP.fillStyle = "#d9d9d9";
            ctxP.fillRect(0, 0, 10, 10);
            ctxP.fillRect(10, 10, 20, 20);
            }
			
      var canvas = document.getElementsByClassName("lienzo"); 
      var ctx;
      for( var i = 0; i < canvas.length; i++){
      if (canvas[i] && canvas[i].getContext) {
      ctx = canvas[i].getContext("2d");
         if (ctx) {console.log("Habemus context")
            ctx.restore();
            // aplicamos el patrón
            ctx.fillStyle = ctx.createPattern(canvasP,"repeat");
            ctx.fillRect(0,0, canvas[i].width, canvas[i].height);
            ctx.save();   
         }
      }
   }
</script>

<div id="div">
<canvas id="canvas">Su navegador no soporta canvas :( </canvas>
</div>

</body>

